<?xml version="1.0"?>
<launch>

  <node pkg="ompl_planning" type="motion_planner" name="ompl_planning" respawn="true" output="screen">
    <remap from="robot_description" to="robot_description" />  
    <remap from="collision_map" to="collision_map_occ" />
    <remap from="collision_map_update" to="collision_map_occ_update" />
    
    <!-- if we are moving the base, it is best to maintain the map in a fixed frame since identified objects that are being published
	 are not necessarily updated -->
    <!-- TODO: use world frame -->
    <param name="planning_frame_id" type="string" value="katana_base_link" />

    <!-- planner configs -->
    <rosparam command="load" file="$(find katana_arm_navigation)/planning/config/ompl_planning_configs.yaml" />

    <!-- the time interval assumed between states on the solution path. 
         A lower value of this parameter makes the path execution faster. -->
    <param name="state_delay" type="double" value="0.01" />
    <param name="pointcloud_padd" type="double" value="0.00" />
    
    <param name="refresh_interval_collision_map" type="double" value="5.0" />
    <param name="refresh_interval_kinematic_state" type="double" value="1.0" />
    <param name="bounding_planes" type="string" value="0 0 1 -0.01" />
    <param name="verbose_collisions" type="bool" value="false" />

    <rosparam command="load" file="$(find katana_arm_navigation)/config/config/robot_padding.yaml" />			
  </node>
  
  <node pkg="ompl_search" type="search_state" name="ompl_search" respawn="true" output="screen">
    <remap from="robot_description" to="robot_description" />
    <remap from="collision_map" to="collision_map_occ" />
    <remap from="collision_map_update" to="collision_map_occ_update" />    
    <!-- if we are moving the base, it is best to maintain the map in a fixed frame since identified objects that are being published
         are not necessarily updated -->
    <!-- TODO: use world frame -->
    <param name="planning_frame_id" type="string" value="katana_base_link" />

    <!-- planner configs -->
    <rosparam command="load" file="$(find katana_arm_navigation)/planning/config/ompl_planning_configs.yaml" />

    <param name="pointcloud_padd" type="double" value="0.00" />

    <param name="refresh_interval_collision_map" type="double" value="5.0" />
    <param name="refresh_interval_kinematic_state" type="double" value="1.0" />
    <param name="bounding_planes" type="string" value="0 0 1 -0.01" />
    <param name="verbose_collisions" type="bool" value="false" />

    <rosparam command="load" file="$(find katana_arm_navigation)/config/config/robot_padding.yaml" />			

  </node>

</launch>
